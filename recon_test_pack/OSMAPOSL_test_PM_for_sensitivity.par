OSMAPOSLParameters :=

input file := Utahscat600k_ca_seg4.hs
output filename prefix := my_test_image_PM_MRP
; choose size of pixels
; x,y pixel size = zoom * bin_size
zoom := .7
; number of x,y pixels (-1 takes default value to cover the FOV)
xy output image size (in pixels) := 60

; if disabled, defaults to maximum segment number in the file
maximum absolute segment number to process := 3

sensitivity image:= my_RPTsens_seg3_PM.hv

projector pair type := Matrix
  Projector Pair Using Matrix Parameters :=
  Matrix type := Ray Tracing
  Ray tracing matrix parameters :=
   number of rays in tangential direction to trace for each bin := 2
  End Ray tracing matrix parameters :=
  End Projector Pair Using Matrix Parameters :=

number of subsets:= 12
start at subset:= 0
number of subiterations:= 6
save images at subiteration intervals:= 6

zero end planes of segment 0:= 1


; you normally wouldn't use a filter and a prior, but this is just for testing
inter-iteration filter subiteration interval:= 2
inter-iteration filter type := Separable Cartesian Metz
Separable Cartesian Metz Filter Parameters :=
x-dir filter FWHM (in mm):= 6.0
y-dir filter FWHM (in mm):= 5.0
z-dir filter FWHM (in mm):= 4.0
x-dir filter Metz power:= 2.0
y-dir filter Metz power:= 1.0
z-dir filter Metz power:= 0.0
x-dir maximum kernel size := 13
y-dir maximum kernel size := 13
z-dir maximum kernel size := 31
END Separable Cartesian Metz Filter Parameters :=

start at subiteration number:=2
enforce initial positivity condition:=0

prior type := FilterRootPrior
FilterRootPrior Parameters:=
  penalisation factor := 1
  Filter type:= median
  Median Filter Parameters :=
  mask radius x := 1   
  mask radius y := 1
  mask radius z := 1
  End Median Filter Parameters:=
END FilterRootPrior Parameters:=
map model := multiplicative
END :=
