FIND_PACKAGE(SWIG REQUIRED)
INCLUDE(${SWIG_USE_FILE})

FIND_PACKAGE(PythonLibs)
INCLUDE_DIRECTORIES(${PYTHON_INCLUDE_PATH})

#INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})

SET(CMAKE_SWIG_FLAGS -builtin -I../include/ -I/usr/include -DSTART_NAMESPACE_STIR=\"namespace stir {\" -DEND_NAMESPACE_STIR=\"}\")

SET_SOURCE_FILES_PROPERTIES(stir.i PROPERTIES CPLUSPLUS ON)
#SET_SOURCE_FILES_PROPERTIES(stir.i PROPERTIES SWIG_FLAGS "-includeall")

add_definitions(-D SWIG)
# next doesn't work
#SET_SOURCE_FILES_PROPERTIES( ${swig_generated_file_fullname}
#       PROPERTIES COMPILE_FLAGS -DSWIG)
SWIG_ADD_MODULE(stir python
  stir.i ${STIR_REGISTRIES})


SWIG_LINK_LIBRARIES(stir ${STIR_LIBRARIES} ${PYTHON_LIBRARIES})
