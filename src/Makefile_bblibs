#
# $Id$: $Date$
#


LIB_RECON_BUILDINGBLOCK= \
   ${WORKSPACE}/recon_buildblock/${DEST}librecon_buildblock.a
LIB_BUILDINGBLOCK= \
   ${WORKSPACE}/buildblock/${DEST}libbuildblock.a
LIB_DISPLAY= \
   ${WORKSPACE}/display/${DEST}libdisplay.a
LIB_LOGLIK_BUILDINGBLOCK= \
   ${WORKSPACE}/iterative/LogLik_buildblock/${DEST}libLogLik_buildblock.a

BB_LIBS = $(LIB_DISPLAY)  $(LIB_RECON_BUILDINGBLOCK) $(LIB_BUILDINGBLOCK)

$(LIB_DISPLAY) : FORCE 
	cd $(WORKSPACE)/display; mkdir -p $(DEST); $(MAKE) all;

$(LIB_BUILDINGBLOCK) : FORCE
	cd $(WORKSPACE)/buildblock; mkdir -p $(DEST); $(MAKE) all;

$(LIB_RECON_BUILDINGBLOCK) : FORCE
	cd $(WORKSPACE)/recon_buildblock; mkdir -p $(DEST); $(MAKE) all;

${LIB_LOGLIK_BUILDINGBLOCK} : FORCE
	cd $(WORKSPACE)/iterative/LogLik_buildblock; mkdir -p $(DEST); $(MAKE) all;


FORCE:


# default rule for making an executable

${DEST}%: ${DEST}%.o $(BB_LIBS)
	$(CXX) $(CFLAGS)  -o $@ $< $(BB_LIBS)  $(LINK_OPT) $(SYS_LIBS) $(GRAPH_LIBS)



